{"version":3,"sources":["assets/logo.png","components/navbar/Navbar.jsx","hooks/useFetch.js","constants/api_vars.js","components/loader/Loader.jsx","hooks/useMaterializeWithRefCallback.js","components/modals/PortalModal.jsx","components/modals/ModalAddItem.jsx","components/modals/ModalEditItem.jsx","components/modals/ModalService.jsx","components/table/Table.jsx","views/admin/Admin.jsx","views/errors/NotFound.jsx","constants/cart_vars.js","context/cartReducer.js","utils/useDate.js","context/CartContext.js","components/cards/Card.jsx","components/dropdowns/ShoppingCart.jsx","views/home/Home.jsx","hooks/useCartItem.js","components/cards/StatsCard.jsx","utils/getStats.js","views/stats/Stats.jsx","App.jsx","index.js"],"names":["Navbar","Sidenav","sidenav","useRef","useEffect","init","current","className","data-target","to","src","logo","height","alt","id","ref","useFetch","url","method","useState","data","setData","isPending","setIsPending","error","setError","options","setOptions","postData","headers","body","JSON","stringify","controller","AbortController","fetchData","fetchOptions","a","fetch","signal","res","ok","Error","json","name","console","log","message","abort","API_URL","API_URL_UPDATE","GET","POST","Loader","useMaterializeWithRefCallback","useCallback","node","classList","Modal","inDuration","outDuration","opacity","dismissible","startingTop","endingTop","Dropdown","getInstance","recalculateDimensions","modalRoot","document","getElementById","PortalModal","children","reactDom","createPortal","forwardRef","items","onAddProduction","filteredItems","filter","currentItem","isProduction","length","map","item","img","price","desc","substring","type","onClick","_id","onSubmit","imgRef","createRef","nameRef","priceRef","descRef","required","defaultValue","ModalService","Table","onEditItem","onRemoveProduction","Admin","setUrl","setMethod","setItems","setItem","updatedCurrentItem","prevState","newArray","findIndex","obj","find","editItem","e","preventDefault","value","Number","state","some","NotFound","ADD_TO_CART","CLEAR_CART","initialState","initCart","initialValue","parse","localStorage","getItem","cartReducer","str","payload","objIndex","quantity","date","moment","format","CartContext","createContext","CartProvider","useReducer","cart","dispatch","Provider","addToCartHandler","clearCartHandler","Card","onAdd","ShoppingCart","cartItems","totalItems","totalPrice","index","toFixed","Home","context","useContext","undefined","useCartItem","reduce","StatsCard","stats","title","product","totalQuantity","getStats","nsales","Object","entries","cartContent","flat","acc","currentElem","tmp","finalPrice","sort","b","fistDate","secondDate","isSame","isBefore","slice","Stats","setStats","arrayStats","App","path","element","ReactDOM","render"],"mappings":"0VAAe,G,MAAA,IAA0B,kC,OCS1B,SAASA,EAAT,GAA8B,IAAZC,EAAW,EAAXA,QACzBC,EAAUC,iBAAO,MAKvB,OAHAC,qBAAU,WACRH,EAAQI,KAAKH,EAAQI,QAAS,MAC7B,CAACL,IAEF,qCACE,qBAAKM,UAAU,iBAAf,SACE,sBAAKA,UAAU,wBAAf,UACE,wBAAQC,cAAY,cAAcD,UAAU,kBAA5C,SACE,mBAAGA,UAAU,iBAAb,oBAEF,cAAC,IAAD,CAASE,GAAG,QAAQF,UAAU,oBAA9B,SACE,qBAAKG,IAAKC,EAAMC,OAAO,OAAOC,IAAI,WAEpC,qBAAIC,GAAG,aAAaP,UAAU,4BAA9B,UACE,6BACE,cAAC,IAAD,CAASA,UAAU,0BAA0BE,GAAG,SAAhD,qBAIF,6BACE,cAAC,IAAD,CAASF,UAAU,0BAA0BE,GAAG,QAAhD,oBAIF,6BACE,cAAC,IAAD,CAASF,UAAU,0BAA0BE,GAAG,SAAhD,6BAQR,qBACEM,IAAKb,EACLK,UAAU,iDACVO,GAAG,cAHL,UAKE,6BACE,cAAC,IAAD,CAASL,GAAG,SAAZ,qBAEF,6BACE,cAAC,IAAD,CAASA,GAAG,QAAZ,oBAEF,6BACE,cAAC,IAAD,CAASA,GAAG,SAAZ,2B,kDCvDH,SAASO,EAASC,GAAsB,IAAjBC,EAAgB,uDAAP,MAAO,EACpBC,mBAAS,MADW,mBACrCC,EADqC,KAC/BC,EAD+B,OAEVF,oBAAS,GAFC,mBAErCG,EAFqC,KAE1BC,EAF0B,OAGlBJ,mBAAS,MAHS,mBAGrCK,EAHqC,KAG9BC,EAH8B,OAIdN,mBAAS,MAJK,mBAIrCO,EAJqC,KAI5BC,EAJ4B,KAMtCC,EAAW,SAACA,GAChBD,EAAW,CACTT,OAAQ,OACRW,QAAS,CACP,eAAgB,oBAElBC,KAAMC,KAAKC,UAAUJ,MAyCzB,OArCAxB,qBAAU,WACR,IAAM6B,EAAa,IAAIC,gBAEjBC,EAAS,uCAAG,WAAOC,GAAP,iBAAAC,EAAA,6DAChBd,GAAa,GADG,kBAGIe,MAAMrB,EAAD,YAAC,eACnBmB,GADkB,IAErBG,OAAQN,EAAWM,UALP,WAGRC,EAHQ,QAQLC,GARK,sBAQK,IAAIC,MAAM,4BARf,uBAUKF,EAAIG,OAVT,OAURA,EAVQ,OAYdtB,EAAQsB,GACRlB,EAAS,MAbK,kDAeG,eAAb,KAAImB,KACNC,QAAQC,IAAI,0BAEZrB,EAAS,KAAIsB,SACbF,QAAQrB,MAAM,KAAIuB,UAnBN,yBAsBdxB,GAAa,GAtBC,6EAAH,sDA6Bf,MAHe,QAAXL,GAAkBiB,IACP,SAAXjB,GAAqBQ,GAASS,EAAUT,GAErC,WACLO,EAAWe,WAEZ,CAAC/B,EAAKS,EAASR,IAEX,CAAEE,OAAME,YAAWE,QAAOI,YCvDnC,IAAMqB,EAAU,gCACVC,EAAiB,+BAGjBC,EAAM,MACNC,EAAO,O,MCFE,SAASC,IACtB,OACE,qBAAK9C,UAAU,0BAAf,SACE,qBAAKA,UAAU,oCCHN,SAAS+C,IACtB,IAAMvC,EAAMZ,iBAAO,MAiCnB,MAAO,CAhCQoD,uBACb,SAACC,GACC,GAAIA,EAIF,OAFAzC,EAAIT,QAAUkD,EAENzC,EAAIT,QAAQmD,UAAU,IAC5B,IAAK,QACHC,QAAMrD,KAAKU,EAAIT,QAAS,CACtBqD,WAAY,IACZC,YAAa,IACbC,QAAS,GACTC,aAAa,EACbC,YAAa,KACbC,UAAW,QAEb,MACF,IAAK,mBACHC,WAAS5D,KAAKU,EAAIT,QAAS,CACzBqD,WAAY,IACZC,YAAa,MAEfK,WAASC,YAAYnD,EAAIT,SAAS6D,2BAO1C,CAACpD,KChCL,IAAMqD,EAAYC,SAASC,eAAe,cAE3B,SAASC,EAAT,GAAoC,IAAbC,EAAY,EAAZA,SACpC,OAAOC,IAASC,aAAaF,EAAUJ,GCF1BO,4BAAW,WAExB5D,GACC,IAFC6D,EAEF,EAFEA,MAAOC,EAET,EAFSA,gBAGHC,EAAgBF,EAAMG,QAC1B,SAACC,GAAD,OAA8C,IAA7BA,EAAYC,gBAE/B,OACE,cAACV,EAAD,UACE,qBAAKxD,IAAKA,EAAKD,GAAG,YAAYP,UAAU,QAAxC,SACE,qBAAKA,UAAU,gBAAf,SACE,oBAAIA,UAAU,aAAd,SAC4B,IAAzBuE,EAAcI,OACbJ,EAAcK,KAAI,SAACC,GAAD,OAChB,qBAAmB7E,UAAU,yBAA7B,UACE,qBAAKG,IAAK0E,EAAKC,IAAKxE,IAAKuE,EAAKxC,KAAMrC,UAAU,WAC9C,sBAAMA,UAAU,QAAhB,SAAyB6E,EAAKxC,OAC9B,oBAAGrC,UAAU,YAAb,cACI6E,EAAKE,MACP,uBACCF,EAAKG,KAAKC,UAAU,EAAG,IAH1B,SAKA,wBACEC,KAAK,SACLlF,UAAU,wBACVmF,QAAS,kBAAMb,EAAgBO,IAHjC,mBAROA,EAAKO,QAkBhB,mBAAGpF,UAAU,gBAAb,mDChCCoE,wBAAW,WAA2C5D,GAAM,IAAxB6E,EAAuB,EAAvBA,SAAUR,EAAa,EAAbA,KACrDS,EAASC,sBACbC,EAAUD,sBACVE,EAAWF,sBACXG,EAAUH,sBAEZ,OACE,cAACvB,EAAD,UACGa,GACC,qBAAoBrE,IAAKA,EAAKD,GAAIsE,EAAKO,IAAKpF,UAAU,QAAtD,SACE,uBAAMqF,SAAUA,EAASC,EAAQE,EAASC,EAAUC,GAApD,UACE,sBAAK1F,UAAU,gBAAf,UACE,6CACA,2CAEE,uBACE2F,UAAQ,EACRnF,IAAK8E,EACLM,aAAcf,EAAKC,IACnBI,KAAK,YAGT,0CAEE,uBAAOS,UAAQ,EAACnF,IAAKgF,EAASI,aAAcf,EAAKxC,UAEnD,2CAEE,uBAAO6C,KAAK,SAASS,UAAQ,EAACnF,IAAKiF,EAAUG,aAAcf,EAAKE,WAElE,iDAEE,uBAAOY,UAAQ,EAACnF,IAAKkF,EAASE,aAAcf,EAAKG,aAGrD,qBAAKhF,UAAU,eAAf,SACE,wBACEkF,KAAK,SACLlF,UAAU,gDAFZ,0BA3BI6E,EAAKO,UCPR,SAASS,EAAT,GAAmE,IAA3CR,EAA0C,EAA1CA,SAAUf,EAAgC,EAAhCA,gBAAiBD,EAAe,EAAfA,MAAOQ,EAAQ,EAARA,KAAQ,EACjE9B,IAAPvC,EADwE,oBAG/E,OACE,qCACGqE,GAAQ,cAAC,EAAD,CAAerE,IAAKA,EAAKqE,KAAMA,EAAMQ,SAAUA,IACvDhB,GAAS,cAAC,EAAD,CAAc7D,IAAKA,EAAK6D,MAAOA,EAAOC,gBAAiBA,O,MCRxD,SAASwB,EAAT,GAA2D,IAA1CC,EAAyC,EAAzCA,WAAYC,EAA6B,EAA7BA,mBACpCzB,EADiE,EAATF,MAClCG,QAC1B,SAACC,GAAD,OAA8C,IAA7BA,EAAYC,gBAE/B,OACE,mCACGH,GAA0C,IAAzBA,EAAcI,OAC9B,wBAAO3E,UAAU,WAAjB,UACE,gCACE,+BACE,sCACA,4CACA,kDAIJ,gCACGuE,GACCA,EAAcK,KACZ,SAACC,GAAD,OACwB,IAAtBA,EAAKH,cACH,qBAAI1E,UAAU,mBAAd,UACE,6BAAK6E,EAAKxC,OACV,mCAAMwC,EAAKE,SACX,+BACE,wBACEG,KAAK,SACLjF,cAAa4E,EAAKO,IAClBpF,UAAU,4DACVmF,QAAS,kBAAMY,EAAWlB,EAAKO,MAJjC,kBAQA,wBACEF,KAAK,SACLlF,UAAU,oDACVmF,QAAS,WACPa,EAAmBnB,IAJvB,yBAZJ,eAA8CA,EAAKO,cA4B/D,mBAAGpF,UAAU,gBAAb,sC,MCxCO,SAASiG,IAAS,IAAD,EACRrF,mBAAS8B,GADD,mBACvBhC,EADuB,KAClBwF,EADkB,OAEFtF,mBAASgC,GAFP,mBAEvBjC,EAFuB,KAEfwF,EAFe,OAGe1F,EAASC,EAAKC,GAAnDE,EAHsB,EAGtBA,KAAME,EAHgB,EAGhBA,UAAWE,EAHK,EAGLA,MAAOI,EAHF,EAGEA,SAHF,EAKJT,mBAAS,IALL,mBAKvByD,EALuB,KAKhB+B,EALgB,OAMNxF,mBAAS,MANH,mBAMvBiE,EANuB,KAMjBwB,EANiB,KAQ9BxG,qBAAU,WACJgB,GAAQF,IAAWiC,GACrBwD,EAASvF,KAEV,CAACA,EAAMF,IAmEV,OACE,sBAAKX,UAAU,YAAf,UACGiB,GAAS,mBAAGjB,UAAU,yBAAb,SAAuCiB,IAChDF,GAAa,cAAC,EAAD,IACbF,GACC,qCACE,sBAAKb,UAAU,gBAAf,UACE,4CACA,wBACEkF,KAAK,SACLjF,cAAY,YACZD,UAAU,gFAHZ,SAKE,mBAAGA,UAAU,iBAAb,sBAGJ,cAAC,EAAD,CACEgG,mBAhEqB,SAACvB,GAC9ByB,EAAO,GAAD,OAAIvD,EAAJ,YAAsB8B,EAAYW,MACxCe,EAAUtD,GACV,IAAMyD,EAAkB,2BAAQ7B,GAAR,IAAqBC,cAAc,IAC3DrD,EAAS,eAAKiF,IACdF,GAAS,SAACG,GACR,IAAMC,EAAQ,YAAOD,GAKrB,OADAC,EAHiBD,EAAUE,WACzB,SAACC,GAAD,OAASA,EAAItB,MAAQX,EAAYW,QAEnC,aAAuBA,IAAKX,EAAYW,KAAQkB,GACzCE,MAsDDT,WAlDa,SAACxF,GACtB,IAAMkE,EAAcJ,EAAMsC,MAAK,SAACC,GAAD,OAAcA,EAASxB,MAAQ7E,KAC9D8F,EAAQ5B,IAiDAJ,MAAOA,IAET,cAACwB,EAAD,CACER,SAjDW,SAACC,EAAQE,EAASC,EAAUC,GAA5B,OAAwC,SAACmB,GAC5DA,EAAEC,iBAEF,IAAMJ,EAAM,CACVrE,KAAMmD,EAAQzF,QAAQgH,MACtB/B,KAAMU,EAAQ3F,QAAQgH,MACtBhC,MAAOiC,OAAOvB,EAAS1F,QAAQgH,OAC/BjC,IAAKQ,EAAOvF,QAAQgH,MACpBrC,cAAc,GAGhBwB,EAAO,GAAD,OAAIvD,EAAJ,YAAsBkC,EAAKO,MACjCe,EAAUtD,GAEVxB,EAAS,eACJqF,IAILN,GAAS,SAACG,GACR,IAAMC,EAAQ,YAAOD,GAGrB,OADAC,EADiBD,EAAUE,WAAU,SAACQ,GAAD,OAAWA,EAAM7B,MAAQP,EAAKO,QACnE,aAAuBA,IAAKP,EAAKO,KAAQsB,GAClCF,OA2BDlC,gBAxFkB,SAACG,GAE3B,GADmBJ,EAAM6C,MAAK,SAACrC,GAAD,OAAUA,EAAKO,MAAQX,EAAYW,OACjD,CACdc,EAAO,GAAD,OAAIvD,EAAJ,YAAsB8B,EAAYW,MACxCe,EAAUtD,GACV,IAAMyD,EAAkB,2BAAQ7B,GAAR,IAAqBC,cAAc,IAC3DrD,EAAS,eAAKiF,IACdF,GAAS,SAACG,GACR,IAAMC,EAAQ,YAAOD,GAKrB,OADAC,EAHiBD,EAAUE,WACzB,SAACC,GAAD,OAASA,EAAItB,MAAQX,EAAYW,QAEnC,aAAuBA,IAAKX,EAAYW,KAAQkB,GACzCE,OA4EH3B,KAAMA,EACNR,MAAOA,UCpHJ,SAAS8C,IACpB,OACI,8BACI,oBAAInH,UAAU,SAAd,kC,YCHNoH,EAAc,cACdC,EAAa,a,iBCGnB,IAAMC,EAAe,GAGRC,EAAW,eAACC,EAAD,uDAAgBF,EAAhB,OACtB9F,KAAKiG,MAAMC,aAAaC,QAAQ,UAAYH,GAEjCI,EAAc,SAACX,EAAD,GAA+B,ICRzCY,EDQoB3C,EAAoB,EAApBA,KAAM4C,EAAc,EAAdA,QACzC,OAAQ5C,GACN,KAAKkC,EAEH,IAAMW,EAAWd,EAAMR,WAAU,SAACC,GAChC,OAAOA,EAAIoB,QAAQ1C,MAAQ0C,EAAQ1C,OAGrC,GAAI2C,GAAY,EAAG,CACjB,IAAMvB,EAAQ,YAAOS,GAKrB,OAJAT,EAASuB,GAAT,2BACKd,EAAMc,IADX,IAEEC,SAAUf,EAAMc,GAAUC,SAAW,IAEhCxB,EAGT,MAAM,GAAN,mBACKS,GADL,CAEE,CACEa,UACAE,SAAU,EACVC,MC9BOJ,EFAG,aECXK,MAASC,OAAON,ODiCrB,KAAKR,EACH,OAAOC,EAET,QACE,MAAM,IAAInF,QEjCHiG,EAAcC,0BAEpB,SAASC,EAAT,GAAqC,IAAbrE,EAAY,EAAZA,SAAY,EAChBsE,qBAAWX,EAAa,GAAIL,GADZ,mBAClCiB,EADkC,KAC5BC,EAD4B,KAezC,OAJA5I,qBAAU,WACR6H,aAAarB,QAAQ,OAAQ7E,KAAKC,UAAU+G,MAC3C,CAACA,IAGF,cAACJ,EAAYM,SAAb,CAAsB3B,MAAO,CAAEyB,OAAMG,iBAbd,SAAC9D,GACxB4D,EAAS,CAAEvD,KAAMkC,EAAaU,QAASjD,KAYgB+D,iBAThC,WACvBH,EAAS,CAAEvD,KAAMmC,MAQjB,SACGpD,I,MCvBQ,SAAS4E,EAAT,GAAiC,IAAjBxE,EAAgB,EAAhBA,MAAOyE,EAAS,EAATA,MACpC,OACE,qBAAK9I,UAAU,MAAf,SACoB,IAAjBqE,EAAMM,OACLN,EAAMO,KAAI,SAACC,GAAD,OACR,qBAAoB7E,UAAU,gBAA9B,SACE,sBAAKA,UAAU,OAAf,UACE,sBAAKA,UAAU,aAAf,UACE,qBAAKG,IAAK0E,EAAKC,IAAKxE,IAAKuE,EAAKxC,OAC9B,uBAAMrC,UAAU,aAAhB,cAA+B6E,EAAKxC,KAApC,UAEF,sBAAKrC,UAAU,eAAf,UACE,4BAAI6E,EAAKG,OACT,sCAASH,EAAKE,MAAd,UAEF,qBAAK/E,UAAU,cAAf,SACE,yBACEmF,QAAS,kBAAM2D,EAAMjE,IACrB7E,UAAU,mDAFZ,UAIE,uCACA,mBAAGA,UAAU,uBAAb,wCAhBE6E,EAAKO,QAuBjB,mBAAGpF,UAAU,gBAAb,sC,MC1BO,SAAS+I,EAAT,GAKX,IAJFC,EAIC,EAJDA,UACAC,EAGC,EAHDA,WACAC,EAEC,EAFDA,WACA7D,EACC,EADDA,SACC,EACatC,IAAPvC,EADN,oBAGD,OACE,sBAAKR,UAAU,OAAf,UACE,yBACEQ,IAAKA,EACLR,UAAU,qCACVC,cAAY,OAHd,UAKE,mBAAGD,UAAU,iBAAb,2BALF,gBAOGiJ,EAAa,EACZ,sBAAMjJ,UAAU,oDAAhB,SACGiJ,IAGH,sBAAMjJ,UAAU,wCAAhB,wBAGJ,sBACEqF,SAAUA,IACV9E,GAAG,OACHP,UAAU,8BAHZ,SAKE,6BACwB,IAArBgJ,EAAUrE,OACT,qCACGqE,EAAUpE,KAAI,WAAwBuE,GAAxB,IAAGrB,EAAH,EAAGA,QAASE,EAAZ,EAAYA,SAAZ,OACb,oBAEEhI,UAAU,kBAFZ,SAIE,gCACE,iCACG8H,EAAQzF,KADX,MACoB2F,KAEpB,iCAAOF,EAAQ/C,MAAf,WARJ,UACU+C,EAAQzF,KADlB,YAC0B8G,OAW5B,qCACE,uBACA,oBAAInJ,UAAU,kBAAd,SACE,gCACE,yCACA,iCAAOkJ,EAAWE,QAAQ,GAA1B,YAGJ,uBACA,yBAAQpJ,UAAU,mDAAlB,gBACK,mBAAGA,UAAU,iBAAb,mCAKT,sBAAMA,UAAU,WAAhB,wC,MChDG,SAASqJ,IAAQ,IAAD,EACDzI,mBAASgC,GADR,mBACtBjC,EADsB,KACdwF,EADc,OAEPvF,mBAAS8B,GAFF,mBAEtBhC,EAFsB,KAEjBwF,EAFiB,OAGgBzF,EAASC,EAAKC,GAAnDE,EAHqB,EAGrBA,KAAME,EAHe,EAGfA,UAAWE,EAHI,EAGJA,MAAOI,EAHH,EAGGA,SAHH,EAKHT,mBAAS,IALN,mBAKtByD,EALsB,KAKf+B,EALe,OCfJ,WACzB,IAAMkD,EAAUC,qBAAWnB,GAC3B,QAAgBoB,IAAZF,EACF,MAAM,IAAInH,MAAM,oDAElB,OAAOmH,EDkB8CG,GAA7CjB,EARqB,EAQrBA,KAAMG,EARe,EAQfA,iBAAkBC,EARH,EAQGA,iBARH,EAWMJ,EAAKkB,QACtC,kBAAGT,EAAH,EAAGA,WAAYC,EAAf,EAAeA,WAAgBpB,EAA/B,EAA+BA,QAASE,EAAxC,EAAwCA,SAAxC,MAAwD,CACtDiB,WAAYA,EAAajB,EACzBkB,WAAYA,EAAalB,EAAWF,EAAQ/C,SAE9C,CAAEkE,WAAY,EAAGC,WAAY,IALvBD,EAXqB,EAWrBA,WAAYC,EAXS,EAWTA,WAQpBrJ,qBAAU,WACJgB,GAAQF,IAAWiC,GACrBwD,EAASvF,KAEV,CAACA,EAAMF,IAEV,IAeM4D,EACJF,GAASA,EAAMG,QAAO,SAACK,GAAD,OAAgC,IAAtBA,EAAKH,gBAEvC,OACE,sBAAK1E,UAAU,YAAf,UACGiB,GAAS,mBAAGjB,UAAU,MAAb,SAAoBiB,IAC7BF,GAAa,cAAC,EAAD,IACbsD,GACC,qCACE,cAAC,EAAD,CACEgB,SArBW,kBAAM,SAACwB,GAC1BA,EAAEC,iBAEFX,EAAUtD,GACVqD,EhBhDqB,kCgBkDrB7E,EAASmH,GAETI,MAcQK,WAAYA,EACZC,WAAYA,EACZF,UAAWR,IAEb,cAAC,EAAD,CAAMM,MA9BI,SAACjE,GACjB8D,EAAiB9D,IA6BaR,MAAOE,U,MEtE1B,SAASoF,EAAT,GAA+B,IAAVC,EAAS,EAATA,MAClC,OACE,qBAAK5J,UAAU,MAAf,SACG4J,EAAMhF,KAAI,SAACC,GAAD,OACT,qBAAgC7E,UAAU,gBAA1C,SACE,qBAAKA,UAAU,OAAf,SACE,sBAAKA,UAAU,0BAAf,UACE,sBAAMA,UAAU,aAAhB,SAA8B6E,EAAKgF,QACnC,oBAAI7J,UAAU,aAAd,SACyB,IAAtB6E,EAAKkC,MAAMpC,OACVE,EAAKkC,MAAMnC,KAAI,SAACkF,GAAD,OACb,oBAAuB9J,UAAU,kBAAjC,SACE,gCACE,+BAAO8J,EAAQzH,OACf,+BAAOyH,EAAQC,oBAHVD,EAAQzH,SAQnB,oBAAIrC,UAAU,kBAAd,4CAfV,eAAkB6E,EAAKgF,aCLhB,SAASG,EAASC,EAAQpJ,EAAMqE,GAC7C,OAAOgF,OAAOC,QACZtJ,EACG+D,KAAI,SAACkF,GAAD,OAAaA,EAAQM,eACzBC,OACAX,QAAO,SAACY,EAAKC,GACZ,IAAIC,EAAe,SAATtF,EAAkBqF,EAAYtC,KAAOsC,EAAYzC,QAAQzF,KAC7DoI,EACJF,EAAYvC,SAAW,EACnBuC,EAAYzC,QAAQ/C,MAAQwF,EAAYvC,SACxCuC,EAAYzC,QAAQ/C,MAE1B,GAAwB,qBAAbuF,EAAIE,GACb,OAAQtF,GACN,IAAK,MACHoF,EAAIE,GAAOD,EAAYvC,SACvB,MACF,IAAK,OACHsC,EAAIE,GAAO,EACX,MACF,IAAK,OACHF,EAAIE,GAAOC,OAOf,OAAQvF,GACN,IAAK,MACHoF,EAAIE,IAAQD,EAAYvC,SACxB,MACF,IAAK,OACHsC,EAAIE,IAAQ,EACZ,MACF,IAAK,OACHF,EAAIE,IAAQC,EAQlB,OAAOH,IACN,KAEJI,MAAK,SAAC5I,EAAG6I,GACR,MAAgB,SAATzF,GPzCQ0F,EOyCsBD,EAAE,GPzCdE,EOyCkB/I,EAAE,GPxC7CoG,IAAO0C,GAAUE,OAAOD,GACnB,EAEL3C,IAAO0C,GAAUG,SAASF,IACpB,EAEH,GOkCgDF,EAAE,GAAK7I,EAAE,GPzClE,IAAqB8I,EAAUC,KO2C1BjG,KAAI,SAACC,GACJ,IPhDgBoD,EAAMJ,EOkDtB,MAAO,CACLxF,KAFS,SAAT6C,GPjDc+C,EOiDiBpD,EAAK,GPjDhBgD,EOiDoB,SPhDvCK,IAAOD,GAAME,OAAON,IOgD+BhD,EAAK,GAGzDkF,cAAelF,EAAK,OAGvBmG,MAAM,EAAGf,GCnDC,SAASgB,IAAS,IAAD,EACKxK,EpBRhB,6BoBQuCmC,GAAlD/B,EADsB,EACtBA,KAAME,EADgB,EAChBA,UAAWE,EADK,EACLA,MADK,EAGJL,mBAAS,IAHL,mBAGvBgJ,EAHuB,KAGhBsB,EAHgB,KAK9BrL,qBAAU,WACJgB,GACFqK,EAASrK,KAEV,CAACA,IAEJ,IAAMsK,EAAavB,GAAS,CAC1B,CACEC,MAAO,cACP9C,MAAOiD,EAAS,EAAGJ,EAAO,QAE5B,CACEC,MAAO,qBACP9C,MAAOiD,EAAS,EAAGJ,EAAO,SAE5B,CACEC,MAAO,6BACP9C,MAAOiD,EAAS,EAAGJ,EAAO,UAI9B,OACE,sBAAK5J,UAAU,YAAf,UACGiB,GAAS,mBAAGjB,UAAU,MAAb,SAAoBiB,IAC7BF,GAAa,cAAC,EAAD,IACbF,GAAQ,cAAC,EAAD,CAAW+I,MAAOuB,OCVlBC,MAjBf,WACE,OACE,qBAAKpL,UAAU,MAAf,SACE,eAAC,IAAD,WACE,cAAC,EAAD,CAAQN,QAASA,YACjB,eAAC,IAAD,WACE,cAAC,IAAD,CAAO2L,KAAK,IAAIC,QAAS,cAAC,EAAD,MACzB,cAAC,IAAD,CAAOD,KAAK,SAASC,QAAS,cAAC,EAAD,MAC9B,cAAC,IAAD,CAAOD,KAAK,QAAQC,QAAS,cAAC,EAAD,MAC7B,cAAC,IAAD,CAAOD,KAAK,SAASC,QAAS,cAACL,EAAD,MAC9B,cAAC,IAAD,CAAOI,KAAK,IAAIC,QAAS,cAACnE,EAAD,e,kBCbnCoE,IAASC,OACP,cAAClD,EAAD,UACE,cAAC,EAAD,MAEFxE,SAASC,eAAe,W","file":"static/js/main.b0a27355.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.bd3b7bcf.png\";","import { useEffect, useRef } from \"react\";\nimport { NavLink } from \"react-router-dom\";\n\n// styles\nimport \"./Navbar.css\";\n\n// logo\nimport logo from \"../../assets/logo.png\";\n\nexport default function Navbar({ Sidenav }) {\n  const sidenav = useRef(null);\n\n  useEffect(() => {\n    Sidenav.init(sidenav.current, {});\n  }, [Sidenav]);\n  return (\n    <>\n      <nav className=\"grey lighten-2\">\n        <div className=\"container nav-wrapper\">\n          <button data-target=\"mobile-demo\" className=\"sidenav-trigger\">\n            <i className=\"material-icons\">menu</i>\n          </button>\n          <NavLink to=\"/home\" className=\"brand-logo center\">\n            <img src={logo} height=\"60px\" alt=\"logo\" />\n          </NavLink>\n          <ul id=\"nav-mobile\" className=\"left hide-on-med-and-down\">\n            <li>\n              <NavLink className=\"grey-text text-darken-4\" to=\"/admin\">\n                Admin\n              </NavLink>\n            </li>\n            <li>\n              <NavLink className=\"grey-text text-darken-4\" to=\"/home\">\n                Home\n              </NavLink>\n            </li>\n            <li>\n              <NavLink className=\"grey-text text-darken-4\" to=\"/stats\">\n                Stats\n              </NavLink>\n            </li>\n          </ul>\n        </div>\n      </nav>\n\n      <ul\n        ref={sidenav}\n        className=\"sidenav grey lighten-4 grey-text text-darken-4\"\n        id=\"mobile-demo\"\n      >\n        <li>\n          <NavLink to=\"/admin\">Admin</NavLink>\n        </li>\n        <li>\n          <NavLink to=\"/home\">Home</NavLink>\n        </li>\n        <li>\n          <NavLink to=\"/stats\">Stats</NavLink>\n        </li>\n      </ul>\n    </>\n  );\n}\n","import { useState, useEffect } from \"react\";\n\nexport function useFetch(url, method = \"GET\") {\n  const [data, setData] = useState(null);\n  const [isPending, setIsPending] = useState(false);\n  const [error, setError] = useState(null);\n  const [options, setOptions] = useState(null);\n\n  const postData = (postData) => {\n    setOptions({\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(postData),\n    });\n  };\n\n  useEffect(() => {\n    const controller = new AbortController();\n\n    const fetchData = async (fetchOptions) => {\n      setIsPending(true);\n      try {\n        const res = await fetch(url, {\n          ...fetchOptions,\n          signal: controller.signal,\n        });\n\n        if (!res.ok) throw new Error(\"Could not fetch the data\");\n\n        const json = await res.json();\n\n        setData(json);\n        setError(null);\n      } catch (err) {\n        if (err.name === \"AbortError\") {\n          console.log(\"the fetch was aborted\");\n        } else {\n          setError(err.message);\n          console.error(err.message);\n        }\n      } finally {\n        setIsPending(false);\n      }\n    };\n    // check method option\n    if (method === \"GET\") fetchData();\n    if (method === \"POST\" && options) fetchData(options);\n\n    return () => {\n      controller.abort();\n    };\n  }, [url, options, method]);\n\n  return { data, isPending, error, postData };\n}\n","const API_URL = \"http://localhost:5000/product\";\nconst API_URL_UPDATE = \"http://localhost:5000/update\";\nconst API_URL_CART = \"http://localhost:5000/cart\";\nconst API_URL_CART_ADD = \"http://localhost:5000/cart/add\";\nconst GET = \"GET\";\nconst POST = \"POST\";\n\nexport { API_URL, API_URL_UPDATE, GET, POST, API_URL_CART, API_URL_CART_ADD };\n","// styles\nimport \"./Loader.css\";\n\nexport default function Loader() {\n  return (\n    <div className=\"progress brown darken-3\">\n      <div className=\"indeterminate brown lighten-5\"></div>\n    </div>\n  );\n}\n","import { Modal, Dropdown } from \"materialize-css/dist/js/materialize.min.js\";\nimport { useRef, useCallback } from \"react\";\n\nexport default function useMaterializeWithRefCallback() {\n  const ref = useRef(null);\n  const setRef = useCallback(\n    (node) => {\n      if (node) {\n        // check if a node actually passed\n        ref.current = node;\n\n        switch (ref.current.classList[0]) {\n          case \"modal\":\n            Modal.init(ref.current, {\n              inDuration: 300,\n              outDuration: 300,\n              opacity: 0.5,\n              dismissible: true,\n              startingTop: \"4%\",\n              endingTop: \"10%\",\n            });\n            break;\n          case \"dropdown-trigger\":\n            Dropdown.init(ref.current, {\n              inDuration: 300,\n              outDuration: 300,\n            });\n            Dropdown.getInstance(ref.current).recalculateDimensions();\n            break;\n          default:\n            break;\n        }\n      }\n    },\n    [ref]\n  );\n\n  return [setRef];\n}\n","import reactDom from \"react-dom\";\n\nconst modalRoot = document.getElementById(\"modal-root\");\n\nexport default function PortalModal({ children }) {\n  return reactDom.createPortal(children, modalRoot);\n}\n","import { forwardRef } from \"react\";\nimport PortalModal from \"./PortalModal\";\n\nexport default forwardRef(function ModalAddItem(\n  { items, onAddProduction },\n  ref\n) {\n  const filteredItems = items.filter(\n    (currentItem) => currentItem.isProduction === false\n  );\n  return (\n    <PortalModal>\n      <div ref={ref} id=\"modal_add\" className=\"modal\">\n        <div className=\"modal-content\">\n          <ul className=\"collection\">\n            {filteredItems.length !== 0 ? (\n              filteredItems.map((item) => (\n                <li key={item._id} className=\"collection-item avatar\">\n                  <img src={item.img} alt={item.name} className=\"circle\" />\n                  <span className=\"title\">{item.name}</span>\n                  <p className=\"flow-text\">\n                    ${item.price}\n                    <br />\n                    {item.desc.substring(0, 20)}...\n                  </p>\n                  <button\n                    type=\"button\"\n                    className=\"btn secondary-content\"\n                    onClick={() => onAddProduction(item)}\n                  >\n                    Add\n                  </button>\n                </li>\n              ))\n            ) : (\n              <p className=\"no-items left\">All items in production...</p>\n            )}\n          </ul>\n        </div>\n      </div>\n    </PortalModal>\n  );\n});\n","import { createRef, forwardRef } from \"react\";\nimport PortalModal from \"./PortalModal\";\n\nexport default forwardRef(function ModalEditItem({ onSubmit, item }, ref) {\n  const imgRef = createRef(),\n    nameRef = createRef(),\n    priceRef = createRef(),\n    descRef = createRef();\n\n  return (\n    <PortalModal>\n      {item && (\n        <div key={item._id} ref={ref} id={item._id} className=\"modal\">\n          <form onSubmit={onSubmit(imgRef, nameRef, priceRef, descRef)}>\n            <div className=\"modal-content\">\n              <h4>Item Editor</h4>\n              <label>\n                Image:\n                <input\n                  required\n                  ref={imgRef}\n                  defaultValue={item.img}\n                  type=\"text\"\n                />\n              </label>\n              <label>\n                Name:\n                <input required ref={nameRef} defaultValue={item.name} />\n              </label>\n              <label>\n                Price:\n                <input type=\"number\" required ref={priceRef} defaultValue={item.price} />\n              </label>\n              <label>\n                Description:\n                <input required ref={descRef} defaultValue={item.desc} />\n              </label>\n            </div>\n            <div className=\"modal-footer\">\n              <button\n                type=\"submit\"\n                className=\"modal-close waves-effect waves-green btn-flat\"\n              >\n                Update\n              </button>\n            </div>\n          </form>\n        </div>\n      )}\n    </PortalModal>\n  );\n});\n","// modals\nimport useMaterializeWithRefCallback from \"../../hooks/useMaterializeWithRefCallback\";\nimport ModalAddItem from \"./ModalAddItem\";\nimport ModalEditItem from \"./ModalEditItem\";\n\nexport default function ModalService({ onSubmit, onAddProduction, items, item }) {\n  const [ref] = useMaterializeWithRefCallback();\n\n  return (\n    <>\n      {item && <ModalEditItem ref={ref} item={item} onSubmit={onSubmit} />}\n      {items && <ModalAddItem ref={ref} items={items} onAddProduction={onAddProduction} />}\n    </>\n  );\n}\n","// styles\nimport \"./Table.css\";\n\nexport default function Table({ onEditItem, onRemoveProduction, items }) {\n  const filteredItems = items.filter(\n    (currentItem) => currentItem.isProduction === true\n  );\n  return (\n    <>\n      {filteredItems && filteredItems.length !== 0 ? (\n        <table className=\"centered\">\n          <thead>\n            <tr>\n              <th>Name</th>\n              <th>Item Price</th>\n              <th>Item Option</th>\n            </tr>\n          </thead>\n\n          <tbody>\n            {filteredItems &&\n              filteredItems.map(\n                (item) =>\n                  item.isProduction === true && (\n                    <tr className=\"scale-transition\" key={`item_${item._id}`}>\n                      <td>{item.name}</td>\n                      <td>${item.price}</td>\n                      <td>\n                        <button\n                          type=\"button\"\n                          data-target={item._id}\n                          className=\"waves-effect waves-light btn modal-trigger green accent-4\"\n                          onClick={() => onEditItem(item._id)}\n                        >\n                          Edit\n                        </button>\n                        <button\n                          type=\"button\"\n                          className=\"waves-effect waves-light btn deep-orange accent-4\"\n                          onClick={() => {\n                            onRemoveProduction(item);\n                          }}\n                        >\n                          Delete\n                        </button>\n                      </td>\n                    </tr>\n                  )\n              )}\n          </tbody>\n        </table>\n      ) : (\n        <p className=\"no-items left\">No items to display...</p>\n      )}\n    </>\n  );\n}\n","import { useEffect, useState } from \"react\";\nimport { useFetch } from \"../../hooks/useFetch\";\nimport { API_URL, API_URL_UPDATE, GET, POST } from \"../../constants/api_vars\";\n\n// components\nimport Loader from \"../../components/loader/Loader\";\nimport ModalService from \"../../components/modals/ModalService\";\nimport Table from \"../../components/table/Table\";\n\n// styles\nimport \"./Admin.css\";\n\nexport default function Admin() {\n  const [url, setUrl] = useState(API_URL);\n  const [method, setMethod] = useState(GET);\n  const { data, isPending, error, postData } = useFetch(url, method);\n\n  const [items, setItems] = useState([]);\n  const [item, setItem] = useState(null);\n\n  useEffect(() => {\n    if (data && method === GET) {\n      setItems(data);\n    }\n  }, [data, method]);\n\n  const handleAddProduction = (currentItem) => {\n    const isExistObj = items.some((item) => item._id === currentItem._id);\n    if (isExistObj) {\n      setUrl(`${API_URL_UPDATE}/${currentItem._id}`);\n      setMethod(POST);\n      const updatedCurrentItem = { ...currentItem, isProduction: true };\n      postData({ ...updatedCurrentItem });\n      setItems((prevState) => {\n        const newArray = [...prevState];\n        const objIndex = prevState.findIndex(\n          (obj) => obj._id === currentItem._id\n        );\n        newArray[objIndex] = { _id: currentItem._id, ...updatedCurrentItem };\n        return newArray;\n      });\n    }\n  };\n\n  const handleRemoveProduction = (currentItem) => {\n    setUrl(`${API_URL_UPDATE}/${currentItem._id}`);\n    setMethod(POST);\n    const updatedCurrentItem = { ...currentItem, isProduction: false };\n    postData({ ...updatedCurrentItem });\n    setItems((prevState) => {\n      const newArray = [...prevState];\n      const objIndex = prevState.findIndex(\n        (obj) => obj._id === currentItem._id\n      );\n      newArray[objIndex] = { _id: currentItem._id, ...updatedCurrentItem };\n      return newArray;\n    });\n  };\n\n  const handleEditItem = (id) => {\n    const currentItem = items.find((editItem) => editItem._id === id);\n    setItem(currentItem);\n  };\n\n  const handleSubmit = (imgRef, nameRef, priceRef, descRef) => (e) => {\n    e.preventDefault();\n\n    const obj = {\n      name: nameRef.current.value,\n      desc: descRef.current.value,\n      price: Number(priceRef.current.value),\n      img: imgRef.current.value,\n      isProduction: true,\n    };\n\n    setUrl(`${API_URL_UPDATE}/${item._id}`);\n    setMethod(POST);\n\n    postData({\n      ...obj,\n    });\n\n    // UPDATE ITEMS STATE\n    setItems((prevState) => {\n      const newArray = [...prevState];\n      const objIndex = prevState.findIndex((state) => state._id === item._id);\n      newArray[objIndex] = { _id: item._id, ...obj };\n      return newArray;\n    });\n  };\n\n  return (\n    <div className=\"container\">\n      {error && <p className=\"text-red text-accent-4\">{error}</p>}\n      {isPending && <Loader />}\n      {data && (\n        <>\n          <div className=\"add-btn right\">\n            <span>Add item</span>\n            <button\n              type=\"button\"\n              data-target=\"modal_add\"\n              className=\"btn-floating btn-large waves-effect waves-light yellow darken-4 modal-trigger\"\n            >\n              <i className=\"material-icons\">add</i>\n            </button>\n          </div>\n          <Table\n            onRemoveProduction={handleRemoveProduction}\n            onEditItem={handleEditItem}\n            items={items}\n          />\n          <ModalService\n            onSubmit={handleSubmit}\n            onAddProduction={handleAddProduction}\n            item={item}\n            items={items}\n          />\n        </>\n      )}\n    </div>\n  );\n}\n","export default function NotFound() {\n    return (\n        <div>\n            <h1 className=\"center\">404 Page Not Found</h1>\n        </div>\n    )\n}\n","const ADD_TO_CART = \"ADD_TO_CART\";\nconst CLEAR_CART = \"CLEAR_CART\";\nconst DATE_FORMAT = \"YYYY-MM-DD\";\n\nexport { ADD_TO_CART, CLEAR_CART, DATE_FORMAT };\n","// constants\nimport { ADD_TO_CART, CLEAR_CART, DATE_FORMAT } from \"../constants/cart_vars\";\nimport {getDate} from \"../utils/useDate\";\n\nconst initialState = [];\n\n// initializing localStorage\nexport const initCart = (initialValue = initialState) =>\n  JSON.parse(localStorage.getItem(\"cart\")) || initialValue;\n\nexport const cartReducer = (state, { type, payload }) => {\n  switch (type) {\n    case ADD_TO_CART:\n      // looking for the index of the current object\n      const objIndex = state.findIndex((obj) => {\n        return obj.payload._id === payload._id;\n      });\n      // check if it exist\n      if (objIndex >= 0) {\n        const newArray = [...state];\n        newArray[objIndex] = {\n          ...state[objIndex],\n          quantity: state[objIndex].quantity + 1,\n        };\n        return newArray;\n      }\n      // in case if it doesn't exist\n      return [\n        ...state,\n        {\n          payload,\n          quantity: 1,\n          date: getDate(DATE_FORMAT),\n        },\n      ];\n\n    case CLEAR_CART:\n      return initialState;\n\n    default:\n      throw new Error();\n  }\n};\n","import moment from \"moment\";\n\nfunction getDate(str) {\n  return moment().format(str);\n}\nfunction formatFromTo(date, str) {\n  return moment(date).format(str);\n}\n\nfunction compareDate(fistDate, secondDate) {\n  if (moment(fistDate).isSame(secondDate)) {\n    return 0;\n  }\n  if (moment(fistDate).isBefore(secondDate)) {\n    return -1;\n  }\n  return 1;\n}\n\nexport { getDate, formatFromTo, compareDate };\n","import { createContext, useReducer } from \"react\";\nimport { useEffect } from \"react/cjs/react.development\";\nimport { cartReducer, initCart } from \"./cartReducer\";\n\n// constants\nimport { ADD_TO_CART, CLEAR_CART } from \"../constants/cart_vars\";\n\nexport const CartContext = createContext();\n\nexport function CartProvider({ children }) {\n  const [cart, dispatch] = useReducer(cartReducer, [], initCart);\n\n  const addToCartHandler = (item) => {\n    dispatch({ type: ADD_TO_CART, payload: item });\n  };\n\n  const clearCartHandler = () => {\n    dispatch({ type: CLEAR_CART });\n  };\n\n  useEffect(() => {\n    localStorage.setItem(\"cart\", JSON.stringify(cart));\n  }, [cart]);\n\n  return (\n    <CartContext.Provider value={{ cart, addToCartHandler, clearCartHandler }}>\n      {children}\n    </CartContext.Provider>\n  );\n}\n","// styles\nimport \"./Card.css\";\n\nexport default function Card({ items, onAdd }) {\n  return (\n    <div className=\"row\">\n      {items.length !== 0 ? (\n        items.map((item) => (\n          <div key={item._id} className=\"col s12 m6 l4\">\n            <div className=\"card\">\n              <div className=\"card-image\">\n                <img src={item.img} alt={item.name} />\n                <span className=\"card-title\"> {item.name} </span>\n              </div>\n              <div className=\"card-content\">\n                <p>{item.desc}</p>\n                <span> ${item.price} </span>\n              </div>\n              <div className=\"card-action\">\n                <button\n                  onClick={() => onAdd(item)}\n                  className=\"waves-effect waves-light btn-large pink accent-2\"\n                >\n                  <span>Buy</span>\n                  <i className=\"small material-icons\">add_shopping_cart</i>\n                </button>\n              </div>\n            </div>\n          </div>\n        ))\n      ) : (\n        <p className=\"no-items left\">No items to display...</p>\n      )}\n    </div>\n  );\n}\n","import useMaterializeWithRefCallback from \"../../hooks/useMaterializeWithRefCallback\";\n\n// styles\nimport \"./ShoppingCart.css\";\n\nexport default function ShoppingCart({\n  cartItems,\n  totalItems,\n  totalPrice,\n  onSubmit,\n}) {\n  const [ref] = useMaterializeWithRefCallback();\n\n  return (\n    <div className=\"cart\">\n      <button\n        ref={ref}\n        className=\"dropdown-trigger btn cyan darken-3\"\n        data-target=\"cart\"\n      >\n        <i className=\"material-icons\">shopping_cart</i>\n        Shopping cart\n        {totalItems > 0 ? (\n          <span className=\"new badge blue-text text-darken-4 yellow accent-3\">\n            {totalItems}\n          </span>\n        ) : (\n          <span className=\"badge white-text deep-orange accent-4\"> empty </span>\n        )}\n      </button>\n      <form\n        onSubmit={onSubmit()}\n        id=\"cart\"\n        className=\"dropdown-content collection\"\n      >\n        <ul>\n          {cartItems.length !== 0 ? (\n            <>\n              {cartItems.map(({ payload, quantity }, index) => (\n                <li\n                  key={`${payload.name}_${index}`}\n                  className=\"collection-item\"\n                >\n                  <div>\n                    <span>\n                      {payload.name} x {quantity}\n                    </span>\n                    <span>{payload.price}$</span>\n                  </div>\n                </li>\n              ))}\n              <>\n                <br />\n                <li className=\"collection-item\">\n                  <div>\n                    <span>Total</span>\n                    <span>{totalPrice.toFixed(2)}$</span>\n                  </div>\n                </li>\n                <br />\n                <button className=\"right waves-effect waves-light btn pink accent-2\">\n                  Pay<i className=\"material-icons\">attach_money</i>\n                </button>\n              </>\n            </>\n          ) : (\n            <span className=\"no-items\">No items added yet.</span>\n          )}\n        </ul>\n      </form>\n    </div>\n  );\n}\n","import { useState } from \"react/cjs/react.development\";\nimport { useEffect } from \"react\";\n\n// constants\nimport { API_URL, API_URL_CART_ADD, GET, POST } from \"../../constants/api_vars\";\n\n// custom hooks\nimport { useCartItem } from \"../../hooks/useCartItem\";\nimport { useFetch } from \"../../hooks/useFetch\";\n\n// components\nimport Card from \"../../components/cards/Card\";\nimport ShoppingCart from \"../../components/dropdowns/ShoppingCart\";\n\n// styles\nimport \"./Home.css\";\nimport Loader from \"../../components/loader/Loader\";\n\nexport default function Home() {\n  const [method, setMethod] = useState(GET);\n  const [url, setUrl] = useState(API_URL);\n  const { data, isPending, error, postData } = useFetch(url, method);\n\n  const [items, setItems] = useState([]);\n\n  // context reducer\n  const { cart, addToCartHandler, clearCartHandler } = useCartItem();\n\n  // reduce all the items and their price\n  const { totalItems, totalPrice } = cart.reduce(\n    ({ totalItems, totalPrice }, { payload, quantity }) => ({\n      totalItems: totalItems + quantity,\n      totalPrice: totalPrice + quantity * payload.price,\n    }),\n    { totalItems: 0, totalPrice: 0 }\n  );\n\n  useEffect(() => {\n    if (data && method === GET) {\n      setItems(data);\n    }\n  }, [data, method]);\n\n  const addToCart = (item) => {\n    addToCartHandler(item);\n  };\n\n  const handleSubmit = () => (e) => {\n    e.preventDefault();\n\n    setMethod(POST);\n    setUrl(API_URL_CART_ADD);\n\n    postData(cart);\n\n    clearCartHandler();\n  };\n\n  const filteredItems =\n    items && items.filter((item) => item.isProduction === true);\n\n  return (\n    <div className=\"container\">\n      {error && <p className=\"red\">{error}</p>}\n      {isPending && <Loader />}\n      {items && (\n        <>\n          <ShoppingCart\n            onSubmit={handleSubmit}\n            totalItems={totalItems}\n            totalPrice={totalPrice}\n            cartItems={cart}\n          />\n          <Card onAdd={addToCart} items={filteredItems} />\n        </>\n      )}\n    </div>\n  );\n}\n","import { useContext } from \"react\";\nimport { CartContext } from \"../context/CartContext\";\n\nexport const useCartItem = () => {\n  const context = useContext(CartContext);\n  if (context === undefined) {\n    throw new Error(\"useCartItem() must be used inside a CartProvider\");\n  }\n  return context;\n};\n","// styles\nimport \"./StatsCard.css\";\n\nexport default function StatsCard({ stats }) {\n  return (\n    <div className=\"row\">\n      {stats.map((item) => (\n        <div key={`stat-${item.title}`} className=\"col s12 m6 l4\">\n          <div className=\"card\">\n            <div className=\"card-content black-text\">\n              <span className=\"card-title\">{item.title}</span>\n              <ul className=\"collection\">\n                {item.value.length !== 0 ? (\n                  item.value.map((product) => (\n                    <li key={product.name} className=\"collection-item\">\n                      <div>\n                        <span>{product.name}</span>\n                        <span>{product.totalQuantity}</span>\n                      </div>\n                    </li>\n                  ))\n                ) : (\n                  <li className=\"collection-item\">No items to display...</li>\n                )}\n              </ul>\n            </div>\n          </div>\n        </div>\n      ))}\n    </div>\n  );\n}\n","import { compareDate, formatFromTo } from \"./useDate\";\n\nexport default function getStats(nsales, data, type) {\n  return Object.entries(\n    data\n      .map((product) => product.cartContent)\n      .flat()\n      .reduce((acc, currentElem) => {\n        let tmp = type === \"last\" ? currentElem.date : currentElem.payload.name;\n        const finalPrice =\n          currentElem.quantity > 1\n            ? currentElem.payload.price * currentElem.quantity\n            : currentElem.payload.price;\n        // check if value exist\n        if (typeof acc[tmp] === \"undefined\") {\n          switch (type) {\n            case \"top\":\n              acc[tmp] = currentElem.quantity;\n              break;\n            case \"uniq\":\n              acc[tmp] = 1;\n              break;\n            case \"last\":\n              acc[tmp] = finalPrice;\n              break;\n\n            default:\n              break;\n          }\n        } else {\n          switch (type) {\n            case \"top\":\n              acc[tmp] += currentElem.quantity;\n              break;\n            case \"uniq\":\n              acc[tmp] += 1;\n              break;\n            case \"last\":\n              acc[tmp] += finalPrice;\n              break;\n\n            default:\n              break;\n          }\n        }\n\n        return acc;\n      }, {})\n  )\n    .sort((a, b) => {\n      return type === \"last\" ? compareDate(b[0], a[0]) : b[1] - a[1];\n    })\n    .map((item) => {\n      const filteredValue =\n        type === \"last\" ? formatFromTo(item[0], \"D.M.YY\") : item[0];\n      return {\n        name: filteredValue,\n        totalQuantity: item[1],\n      };\n    })\n    .slice(0, nsales);\n}\n","import { useEffect, useState } from \"react\";\nimport StatsCard from \"../../components/cards/StatsCard\";\nimport Loader from \"../../components/loader/Loader\";\nimport { API_URL_CART, GET } from \"../../constants/api_vars\";\nimport { useFetch } from \"../../hooks/useFetch\";\n\n// utils\nimport getStats from \"../../utils/getStats\";\n\nexport default function Stats() {\n  const { data, isPending, error } = useFetch(API_URL_CART, GET);\n\n  const [stats, setStats] = useState([]);\n\n  useEffect(() => {\n    if (data) {\n      setStats(data);\n    }\n  }, [data]);\n\n  const arrayStats = stats && [\n    {\n      title: \"Top 5 sales\",\n      value: getStats(5, stats, \"top\"),\n    },\n    {\n      title: \"Top 5 unique sales\",\n      value: getStats(5, stats, \"uniq\"),\n    },\n    {\n      title: \"Sold out the last 5 days $\",\n      value: getStats(5, stats, \"last\"),\n    },\n  ];\n\n  return (\n    <div className=\"container\">\n      {error && <p className=\"red\">{error}</p>}\n      {isPending && <Loader />}\n      {data && <StatsCard stats={arrayStats} />}\n    </div>\n  );\n}\n","import { BrowserRouter, Routes, Route } from \"react-router-dom\";\nimport { Sidenav } from \"materialize-css/dist/js/materialize.min.js\";\n\n// components\nimport Navbar from \"./components/navbar/Navbar\";\n\n// views\nimport Admin from \"./views/admin/Admin\";\nimport NotFound from \"./views/errors/NotFound\";\nimport Home from \"./views/home/Home\";\nimport Stats from \"./views/stats/Stats\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <BrowserRouter>\n        <Navbar Sidenav={Sidenav} />\n        <Routes>\n          <Route path=\"/\" element={<Home />} />\n          <Route path=\"/admin\" element={<Admin />} />\n          <Route path=\"/home\" element={<Home />} />\n          <Route path=\"/stats\" element={<Stats />} />\n          <Route path=\"*\" element={<NotFound />} />\n        </Routes>\n      </BrowserRouter>\n    </div>\n  );\n}\n\nexport default App;\n","import ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\n// styles\nimport \"./index.css\";\nimport \"materialize-css/dist/css/materialize.min.css\";\nimport \"material-icons/iconfont/material-icons.css\";\nimport { CartProvider } from \"./context/CartContext\";\n\nReactDOM.render(\n  <CartProvider>\n    <App />\n  </CartProvider>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}